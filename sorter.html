<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Master Song Sorter</title>

<style>
  body {
    background-color: #f3f4f6;
    margin: 0;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    padding: 10px;
    font-size: 20px;
  }

  h1 {
    margin-bottom: 20px;
    text-align: center;
  }

  #backBtn {
  align-self: flex-start;
  margin: 10px;
  padding: 8px 14px;
  font-size: 0.9rem;
  border-radius: 6px;
  border: none;
  background: #e5e7eb;
  cursor: pointer;
}

  #backBtn:hover {
    background: #d1d5db;
  }

  #battleNumber {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 20px;
    text-align: center;
  }

  #progress-container {
    width: 80%;
    max-width: 600px;
    background: #ddd;
    border-radius: 8px;
    height: 25px;
    position: relative;
    margin-bottom: 20px;
  }

  #progressBar {
    background: #4caf50;
    height: 100%;
    width: 0%;
    border-radius: 8px;
    transition: width 0.3s;
    position: relative;
  }

  #progressPercent {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    text-align: center;
    line-height: 25px;
    font-weight: bold;
    color: white;
  }

  #choices {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
    flex-wrap: nowrap;
  }

  .song-card {
    background-color: #fff;
    border: 3px solid #ccc;
    border-radius: 10px;
    width: 45vw;       /* responsive width */
    max-width: 420px;  /* cap at 420px */
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.1s;
  }
  .song-card:hover { transform: scale(1.03); }

  .song-card img {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 12px;
  }

  .song-card p {
    font-size: 1.2rem;
    font-weight: 600;
    text-align: center;
    margin: 0;
  }

#result {
  display: none; /* hide the final ranking section until results are shown */
  text-align: center;
  margin-top: 40px;
}

#ranking {
  list-style: decimal;  /* ensures numbers appear */
  padding-left: 40px;   /* indentation for the list */
  text-align: left;     /* keep numbers aligned */
  display: inline-block; /* center the list as a block */
}

.result-item {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}

.result-item span:first-child {
  width: 25px; /* keeps numbers aligned */
  text-align: right;
}

.result-image {
  width: 40px;
  height: 40px;
  object-fit: cover;
  border-radius: 6px;
}

  #titleLogo {
  max-width: 400px; /* adjust size */
  width: 70%;       /* responsive scaling */
  height: auto;
  display: block;
  margin: 0 auto 24px auto; /* center horizontally and space below */
}
  
</style>
</head>
<body>
  <h1>
    <img alt="Artist Logo" id="titleLogo">
  </h1>
  <button id="backBtn" onclick="goBack()">← Back to Hub</button>
  <div id="battleNumber">Battle 1</div>

  <div id="progress-container">
    <div id="progressBar"><span id="progressPercent">0%</span></div>
  </div>

  <div id="choices">
    <div class="song-card" id="left" onclick="choose('left')">
      <img id="leftImg" src="" alt="Left Song">
      <p id="leftName"></p>
    </div>
    <div class="song-card" id="right" onclick="choose('right')">
      <img id="rightImg" src="" alt="Right Song">
      <p id="rightName"></p>
    </div>
  </div>

  <div id="result">
    <h2>Final Ranking</h2>
    <ol id="ranking"></ol>
  </div>

<script>
  const ARTISTS = {
    magdalena_bay: {
      title: "Magdalena Bay Song Sorter",
      logo: "images/magdalena-bay/magdalena-bay-logo.png",
      songs: [
        
        // Singles
        { name: "Voc Pop", image: "images/magdalena-bay/voc-pop.jpeg" },
        { name: "Head Over Heels", image: "images/magdalena-bay/head-over-heels.jpeg" },
        { name: "#wastehistime", image: "images/magdalena-bay/wastehistime.jpeg" },
        { name: "Neon", image: "images/magdalena-bay/neon.jpeg" },
        { name: "Set Me Off", image: "images/magdalena-bay/set-me-off.jpeg" },
        { name: "Redbone", image: "images/magdalena-bay/redbone.jpeg" },
        { name: "Drive Alone", image: "images/magdalena-bay/drive-alone.jpeg" },
        { name: "Move Slow", image: "images/magdalena-bay/move-slow.jpeg" },
        { name: "Waking Up", image: "images/magdalena-bay/waking-up.jpeg" },
        { name: "The Girls", image: "images/magdalena-bay/the-girls.jpeg" },
        { name: "Ghost", image: "images/magdalena-bay/ghost.jpeg" },
        { name: "Money Lover", image: "images/magdalena-bay/money-lover.jpeg" },
        { name: "Only If You Want It", image: "images/magdalena-bay/only-if-you-want-it.jpeg" },
        { name: "Mine", image: "images/magdalena-bay/mine.jpeg" },
        { name: "Venice", image: "images/magdalena-bay/venice.jpeg" },
        { name: "Good Intentions", image: "images/magdalena-bay/good-intentions.jpeg" },
        { name: "Killshot", image: "images/magdalena-bay/killshot.jpeg" },
        { name: "Oh Hell", image: "images/magdalena-bay/oh-hell.jpeg" },
        { name: "How to Get Physical", image: "images/magdalena-bay/how-to-get-physical.jpeg" },
        { name: "Airplane", image: "images/magdalena-bay/airplane.jpeg" },
        { name: "Live 4ever", image: "images/magdalena-bay/live-4ever.jpeg" },
        { name: "Woww", image: "images/magdalena-bay/woww.jpeg" },
        { name: "Hideaway", image: "images/magdalena-bay/hideaway.jpeg" },
        { name: "Sky2Fall", image: "images/magdalena-bay/sky2fall.jpeg" },
        { name: "Push Me Away", image: "images/magdalena-bay/push-me-away.jpeg" },
        { name: "Chaeri", image: "images/magdalena-bay/chaeri.jpeg" },
        { name: "Secrets (Your Fire)", image: "images/magdalena-bay/secrets-your-fire.jpeg" },
        { name: "You Lose!", image: "images/magdalena-bay/you-lose.jpeg" },
        { name: "Death & Romance", image: "images/magdalena-bay/death-romance.jpeg" },
        { name: "Image", image: "images/magdalena-bay/image.jpeg" },
        { name: "Tunnel Vision", image: "images/magdalena-bay/tunnel-vision.jpeg" },
        
        // mini mix, vol. 1
        { name: "Intro", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        { name: "Afternoon in Heaven", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        { name: "El Dorado", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        { name: "Turning Off the Rain", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        { name: "U Wanna Dance?", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        { name: "Nothing Baby", image: "images/magdalena-bay/mini-mix-vol-1.jpeg" },
        
        // A Little Rhythm and a Wicked Feeling
        { name: "Story", image: "images/magdalena-bay/a-little-rhythm-and-a-wicked-feeling.jpeg" },
        { name: "Stop & Go", image: "images/magdalena-bay/a-little-rhythm-and-a-wicked-feeling.jpeg" },
        
        // mini mix, vol. 2
        { name: "I Don’t Want to Cry Anymore", image: "images/magdalena-bay/mini-mix-vol-2.jpeg" },
        { name: "Body", image: "images/magdalena-bay/mini-mix-vol-2.jpeg" },
        { name: "Sky2Fall (Reprise)", image: "images/magdalena-bay/mini-mix-vol-2.jpeg" },
        
        // Mercurial World
        { name: "The End", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Mercurial World", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Dawning of the Season", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Something for 2", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Halfway", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Hysterical Us", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Prophecy", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Follow the Leader", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Domino", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "Dreamcatching", image: "images/magdalena-bay/mercurial-world.jpeg" },
        { name: "The Beginning", image: "images/magdalena-bay/mercurial-world.jpeg" },
        
        // Mercurial World (Deluxe)
        { name: "secret 1", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "Unconditional", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secrets 2-9: medley", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 10", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 11", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 12", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "All You Do", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 13", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 14", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        { name: "secret 15", image: "images/magdalena-bay/mercurial-world-deluxe.jpeg" },
        
        // mini mix, vol. 3
        { name: "Slug Song", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "EXO", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "2 Wheel Drive", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "Top Dog", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "Tonguetwister", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "Wandering Eyes", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        { name: "Slug Song (Reprise)", image: "images/magdalena-bay/mini-mix-vol-3.jpeg" },
        
        // Imaginal Disk
        { name: "She Looked Like Me!", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Killing Time", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "True Blue Interlude", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Fear, Sex", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Vampire in the Corner", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Watching T.V.", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Love is Everywhere", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Feeling DiskInserted?", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "That’s My Floor", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Cry for Me", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "Angel on a Satellite", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        { name: "The Ballad of Matt & Mica", image: "images/magdalena-bay/imaginal-disk.jpeg" },
        
        // Nice Day: A Collection of Singles
        { name: "Second Sleep", image: "images/magdalena-bay/second-sleep.jpeg" },
        { name: "Star Eyes", image: "images/magdalena-bay/star-eyes.jpeg" },
        { name: "Human Happens", image: "images/magdalena-bay/human-happens.jpeg" },
        { name: "Paint Me a Picture", image: "images/magdalena-bay/paint-me-a-picture.jpeg" },
        { name: "Unoriginal", image: "images/magdalena-bay/unoriginal.jpeg" },
        { name: "Black-Eyed Susan Climb", image: "images/magdalena-bay/black-eyed-susan-climb.jpeg" },
        { name: "This is the World (I Made It for You)", image: "images/magdalena-bay/this-is-the-world-i-made-it-for-you.jpeg" },
        { name: "Nice Day", image: "images/magdalena-bay/nice-day.jpeg" }
      ]
    },
  
    ninos_del_cerro: {
      title: "Niños del Cerro Song Sorter",
      logo: "images/ninos-del-cerro/ninos-del-cerro-logo.png",
      songs: [
        
        // Singles
        { name: "La Pajarería", image: "images/ninos-del-cerro/la-pajareria.jpeg" },
        { name: "Días Frescos", image: "images/ninos-del-cerro/la-pajareria.jpeg" },
        { name: "José de los Rayos", image: "images/ninos-del-cerro/jose-de-los-rayos.jpeg" },
        { name: "Contigo", image: "images/ninos-del-cerro/contigo.jpeg" },
        { name: "Flores, Labios, Dedos", image: "images/ninos-del-cerro/flores-labios-dedos.jpeg" },
        { name: "El Sueño Pesa", image: "images/ninos-del-cerro/el-sueno-pesa.jpeg" },
        { name: "Durmiendo en el Parque", image: "images/ninos-del-cerro/durmiendo-en-el-parque.jpeg" },
        { name: "Tembló", image: "images/ninos-del-cerro/temblo.jpeg" },
        { name: "Canto al Mediodía", image: "images/ninos-del-cerro/canto-al-mediodia.jpeg" },
        { name: "Seis de Enero", image: "images/ninos-del-cerro/seis-de-enero.jpeg" },    
  
        // Nonato Coo
        { name: "Nonato Coo", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Ropa de Verano", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Viste las Palabras", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Capital", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Nos Vemos Cómodos en Este Frío", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Videojuego", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
        { name: "Las Palmeras", image: "images/ninos-del-cerro/nonato-coo.jpeg" },
  
        // Lance
        { name: "Sufre", image: "images/ninos-del-cerro/lance.jpeg" },
        { name: "Las Distancias", image: "images/ninos-del-cerro/lance.jpeg" },
        { name: "Lance", image: "images/ninos-del-cerro/lance.jpeg" },
        { name: "El Susto y el Miedo", image: "images/ninos-del-cerro/lance.jpeg" },
        { name: "Javier y los Vientos", image: "images/ninos-del-cerro/lance.jpeg" },
        { name: "Melisa / Toronjil", image: "images/ninos-del-cerro/lance.jpeg" },
  
        // Cuauhtémoc
        { name: "Cuauhtémoc", image: "images/ninos-del-cerro/cuauhtemoc.jpeg" },
        { name: "El Sol en los Ojos", image: "images/ninos-del-cerro/cuauhtemoc.jpeg" },
        { name: "Sísifo", image: "images/ninos-del-cerro/cuauhtemoc.jpeg" },
  
        // Suave Pendiente
        { name: "Povidona", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Tentempié", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Miel", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Mi Modesta Ceguera Personal", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Sulamita", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Tamarugal", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Frío, Frío", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Esta Enorme Distancia", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Daniel", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Vía Contemplativa", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "El Dulce en la Piel de Tu Nombre", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Mamire", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "La Sombra Quieta", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Le Entrego Mi Alma al Vacío Como Una Ofrenda de Amor", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
        { name: "Noche Oscura", image: "images/ninos-del-cerro/suave-pendiente.jpeg" },
  
        // Alma Tadema
        { name: "Príapo (o Sísifo otra vez)", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Pieza Oscura (Para Martín)", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Aluvión", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Un Río", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Buen Dormir", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Vinca", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Narciso Negro", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Cada Cosa en Su Lugar", image: "images/ninos-del-cerro/alma-tadema.jpeg" },
        { name: "Guardo Un Tesoro", image: "images/ninos-del-cerro/alma-tadema.jpeg" }
      ]
    },
    
    kero_kero_bonito: {
      title: "Kero Kero Bonito Song Sorter",
      logo: "images/kero-kero-bonito/kero-kero-bonito-logo.png",
      songs: [
        
        // Singles
        { name: "Weapons Grade", image: "images/kero-kero-bonito/weapons-grade.jpeg" },
        { name: "Coursework Story", image: "images/kero-kero-bonito/coursework-story.jpeg" },
        { name: "(Getting To) The Top", image: "images/kero-kero-bonito/getting-to-the-top.jpeg" },
        { name: "Ms. World", image: "images/kero-kero-bonito/ms-world.jpeg" },
        { name: "Laser Quest", image: "images/kero-kero-bonito/laser-quest.jpeg" },
        { name: "Fortune Teller", image: "images/kero-kero-bonito/fortune-teller.jpeg" },
        { name: "Wherever You Go", image: "images/kero-kero-bonito/wherever-you-go.jpeg" },
        { name: "Bonito Intro", image: "images/kero-kero-bonito/bonito-intro.jpeg" },
        { name: "Intro Bonito", image: "images/kero-kero-bonito/intro-bonito.jpeg" },
        { name: "Sick Beat", image: "images/kero-kero-bonito/sick-beat.jpeg" },
        { name: "My Party", image: "images/kero-kero-bonito/my-party.jpeg" },
        { name: "Cat vs. Dog - English Version", image: "images/kero-kero-bonito/cat-vs-dog-english-version.jpeg" },
        { name: "Kero Kero Bonito", image: "images/kero-kero-bonito/kero-kero-bonito.jpeg" },
        { name: "Babies (Are So Strange)", image: "images/kero-kero-bonito/babies-are-so-strange.jpeg" },
        { name: "Bonito Jingle", image: "images/kero-kero-bonito/bonito-jingle.jpeg" },
        { name: "Homework", image: "images/kero-kero-bonito/homework.jpeg" },
        { name: "Pocket Crocodile", image: "images/kero-kero-bonito/pocket-crocodile.jpeg" },
        { name: "Cat vs. Dog - Japanese Version", image: "images/kero-kero-bonito/cat-vs-dog-japanese-version.jpeg" },
        { name: "Park Song", image: "images/kero-kero-bonito/park-song.jpeg" },
        { name: "Let’s Go to the Forest", image: "images/kero-kero-bonito/lets-go-to-the-forest.jpeg" },
        { name: "Small Town", image: "images/kero-kero-bonito/small-town.jpeg" },
        { name: "I’d Rather Sleep", image: "images/kero-kero-bonito/id-rather-sleep.jpeg" },
        { name: "Bonito Shopping", image: "images/kero-kero-bonito/bonito-shopping.jpeg" },
        { name: "Fans (Are So Cool)", image: "images/kero-kero-bonito/fans-are-so-cool.jpeg" },
        { name: "Flamingo", image: "images/kero-kero-bonito/flamingo.jpeg" },
        { name: "Build It Up", image: "images/kero-kero-bonito/build-it-up.jpeg" },
        { name: "Chicken", image: "images/kero-kero-bonito/chicken.jpeg" },
        { name: "Waking Up", image: "images/kero-kero-bonito/waking-up.jpeg" },
        { name: "Heard a Song", image: "images/kero-kero-bonito/heard-a-song.jpeg" },
        { name: "Graduation", image: "images/kero-kero-bonito/graduation.jpeg" },
        { name: "Fish Bowl", image: "images/kero-kero-bonito/fish-bowl.jpeg" },
        { name: "Big City", image: "images/kero-kero-bonito/big-city.jpeg" },
        { name: "Break", image: "images/kero-kero-bonito/break.jpeg" },
        { name: "Lipslap", image: "images/kero-kero-bonito/lipslap.jpeg" },
        { name: "Try Me", image: "images/kero-kero-bonito/try-me.jpeg" },
        { name: "Paintbrush", image: "images/kero-kero-bonito/paintbrush.jpeg" },
        { name: "Trampoline", image: "images/kero-kero-bonito/trampoline.jpeg" },
        { name: "Picture This", image: "images/kero-kero-bonito/picture-this.jpeg" },
        { name: "Hey Parents", image: "images/kero-kero-bonito/hey-parents.jpeg" },
        { name: "Forever Summer Holiday", image: "images/kero-kero-bonito/forever-summer-holiday.jpeg" },
        { name: "Only Acting", image: "images/kero-kero-bonito/only-acting.jpeg" },
        { name: "Time Today", image: "images/kero-kero-bonito/time-today.jpeg" },
        { name: "When the Fires Come", image: "images/kero-kero-bonito/when-the-fires-come.jpeg" },
        { name: "It’s Bugsnax!", image: "images/kero-kero-bonito/its-bugsnax.jpeg" },
        { name: "The Princess and the Clock", image: "images/kero-kero-bonito/the-princess-and-the-clock.jpeg" },
        { name: "The Sneaker Dance", image: "images/kero-kero-bonito/the-sneaker-dance.jpeg" },
  
        // Why Aren't You Dancing?
        { name: "Why Aren’t You Dancing?", image: "images/kero-kero-bonito/why-arent-you-dancing.jpeg" },
        { name: "Astronomy for Two", image: "images/kero-kero-bonito/why-arent-you-dancing.jpeg" },
  
        // TOTEP
        { name: "The One True Path", image: "images/kero-kero-bonito/totep.jpeg" },
        { name: "You Know How It Is", image: "images/kero-kero-bonito/totep.jpeg" },
        { name: "Cinema", image: "images/kero-kero-bonito/totep.jpeg" },
  
        // Make Believe
        { name: "Make Believe", image: "images/kero-kero-bonito/make-believe.jpeg" },
        { name: "World Tour 2018", image: "images/kero-kero-bonito/make-believe.jpeg" },
  
        // Time 'n' Place
        { name: "Outside", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Flyway", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Dump", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Dear Future Self", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Visiting Hours", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "If I’d Known", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Sometimes", image: "images/kero-kero-bonito/time-n-place.jpeg" },
        { name: "Rest Stop", image: "images/kero-kero-bonito/time-n-place.jpeg" },
  
        // Swimming / The Open Road
        { name: "Swimming", image: "images/kero-kero-bonito/swimming-the-open-road.jpeg" },
        { name: "The Open Road", image: "images/kero-kero-bonito/swimming-the-open-road.jpeg" },
  
        // Civilisation I
        { name: "Battle Lines", image: "images/kero-kero-bonito/civilisation-i.jpeg" },
        { name: "The River", image: "images/kero-kero-bonito/civilisation-i.jpeg" },
  
        // Civilisation II
        { name: "21/04/20", image: "images/kero-kero-bonito/civilisation-ii.jpeg" },
        { name: "Well Rested", image: "images/kero-kero-bonito/civilisation-ii.jpeg" },
  
        // Civilisation
        { name: "Gateway", image: "images/kero-kero-bonito/civilisation.jpeg" }
      ]
    },
    
    george_clanton: {
      title: "George Clanton Song Sorter",
      logo: "images/george-clanton/george-clanton-logo.png",
      songs: [
        
        // Singles
        { name: "Never Late Again", image: "images/george-clanton/never-late-again.jpeg" },
        { name: "Wonder Gently", image: "images/george-clanton/wonder-gently.jpeg" },
        { name: "Make It Forever", image: "images/george-clanton/make-it-forever.jpeg" },
        { name: "Dumb", image: "images/george-clanton/dumb.jpeg" },
        { name: "I Been Young", image: "images/george-clanton/i-been-young.jpeg" },
        { name: "Justify Your Life", image: "images/george-clanton/justify-your-life.jpeg" },
        { name: "Vapor King / SubReal", image: "images/george-clanton/vapor-king-subreal.jpeg" },
  
        // Crash Pad / King for a Day
        { name: "Crash Pad", image: "images/george-clanton/crash-pad-king-for-a-day.jpeg" },
        { name: "King for a Day", image: "images/george-clanton/crash-pad-king-for-a-day.jpeg" },
  
        // Under Your Window / Out of the Blue
        { name: "Under Your Window", image: "images/george-clanton/under-your-window-out-of-the-blue.jpeg" },
        { name: "Out of the Blue", image: "images/george-clanton/under-your-window-out-of-the-blue.jpeg" },
  
        // Aurora Summer - George Clanton and Nick Hexum (Deluxe)
        { name: "Aurora Summer", image: "images/george-clanton/aurora-summer.jpeg" },
        { name: "George & Nick (Guitar Arpeggio Jam)", image: "images/george-clanton/aurora-summer.jpeg" },
  
        // Summer 2000 Baby / Take a Trip
        { name: "Summer 2000 Baby", image: "images/george-clanton/summer-2000-baby-take-a-trip.jpeg" },
        { name: "Take a Trip", image: "images/george-clanton/summer-2000-baby-take-a-trip.jpeg" },
  
        // 100% Electronica
        { name: "Keep a Secret", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Did I Flounder?", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Purity", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Bleed", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Warmspot", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "It Makes the Babies Want to Cry", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Innocence", image: "images/george-clanton/100-electronica.jpeg" },
        { name: "Kill You in Bed", image: "images/george-clanton/100-electronica.jpeg" },
  
        // Slide
        { name: "Livin’ Loose", image: "images/george-clanton/slide.jpeg" },
        { name: "Tie Me Down", image: "images/george-clanton/slide.jpeg" },
        { name: "Blast Off", image: "images/george-clanton/slide.jpeg" },
        { name: "Slide", image: "images/george-clanton/slide.jpeg" },
        { name: "Monster", image: "images/george-clanton/slide.jpeg" },
        { name: "You Lost Me There", image: "images/george-clanton/slide.jpeg" },
        { name: "Encore", image: "images/george-clanton/slide.jpeg" },
        { name: "Walk Slowly", image: "images/george-clanton/slide.jpeg" },
  
        // George Clanton and Nick Hexum
        { name: "Driving in My Car", image: "images/george-clanton/george-clanton-and-nick-hexum.jpeg" },
        { name: "Topanga State of Mind", image: "images/george-clanton/george-clanton-and-nick-hexum.jpeg" },
        { name: "Time of Wandering (Prelude)", image: "images/george-clanton/george-clanton-and-nick-hexum.jpeg" },
        { name: "Time of Wandering", image: "images/george-clanton/george-clanton-and-nick-hexum.jpeg" },
        { name: "Shouldn’ta Done That", image: "images/george-clanton/george-clanton-and-nick-hexum.jpeg" },
  
         // 100% Electronica (Deluxe)
        { name: "Make You Cry", image: "images/george-clanton/100-electronica-deluxe.jpeg" },
        { name: "Persuasion", image: "images/george-clanton/100-electronica-deluxe.jpeg" },
        { name: "Notice Me", image: "images/george-clanton/100-electronica-deluxe.jpeg" },
  
        // Ooh Rap I Ya
        { name: "Everything I Want", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
        { name: "Punching Down", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
        { name: "You Hold the Key and I Found It", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
        { name: "F.U.M.L.", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
        { name: "Ooh Rap I Ya", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
        { name: "For You, I Will", image: "images/george-clanton/ooh-rap-i-ya.jpeg" },
  
        // Fauxllennium
        { name: "Everything Blue", image: "images/george-clanton/fauxllennium.jpeg" },
        { name: "Fauxllennium", image: "images/george-clanton/fauxllennium.jpeg" },
        { name: "Butterflies", image: "images/george-clanton/fauxllennium.jpeg" },
        { name: "The Sweet Life", image: "images/george-clanton/fauxllennium.jpeg" },
        { name: "Yesterday’s World", image: "images/george-clanton/fauxllennium.jpeg" },
  
        // Fauxllennium (Deluxe)
        { name: "Monday, Monday", image: "images/george-clanton/fauxllennium-deluxe.jpeg" },
        { name: "Yr Not Invited", image: "images/george-clanton/fauxllennium-deluxe.jpeg" },
        { name: "Poison Ooze", image: "images/george-clanton/fauxllennium-deluxe.jpeg" },
        { name: "Ketamine Girl", image: "images/george-clanton/fauxllennium-deluxe.jpeg" },
        { name: "Messy Hair", image: "images/george-clanton/fauxllennium-deluxe.jpeg" },
        { name: "I’m Not Real", image: "images/george-clanton/fauxllennium-deluxe.jpeg" }
      ]
    },
    
    pinkpantheress: {
      title: "PinkPantheress Song Sorter",
      logo: "images/pinkpantheress/pinkpantheress-logo.png",
      songs: [
        
        // Singles
        { name: "Just a waste", image: "images/pinkpantheress/just-a-waste.jpeg" },
        { name: "Met You", image: "images/pinkpantheress/met-you.jpeg" },
        { name: "Pain", image: "images/pinkpantheress/pain.jpeg" },
        { name: "Attracted to You", image: "images/pinkpantheress/attracted-to-you.jpeg" },
        { name: "Time with me", image: "images/pinkpantheress/time-with-me.jpeg" },
        { name: "Break It Off", image: "images/pinkpantheress/break-it-off.jpeg" },
        { name: "Noticed I cried", image: "images/pinkpantheress/noticed-i-cried.jpeg" },
        { name: "Last valentines", image: "images/pinkpantheress/last-valentines.jpeg" },
        { name: "Passion", image: "images/pinkpantheress/passion.jpeg" },
        { name: "Just for me", image: "images/pinkpantheress/just-for-me.jpeg" },
        { name: "I must apologise", image: "images/pinkpantheress/i-must-apologise.jpeg" },
        { name: "Where you are", image: "images/pinkpantheress/where-you-are.jpeg" },
        { name: "Picture in my mind", image: "images/pinkpantheress/picture-in-my-mind.jpeg" },
        { name: "Do you miss me?", image: "images/pinkpantheress/do-you-miss-me.jpeg" },
        { name: "Boy’s a liar", image: "images/pinkpantheress/boys-a-liar.jpeg" },
        { name: "Angel", image: "images/pinkpantheress/angel.jpeg" },
        { name: "Turn Your Phone Off", image: "images/pinkpantheress/turn-your-phone-off.jpeg" },
        { name: "Mosquito", image: "images/pinkpantheress/mosquito.jpeg" },
        { name: "Turn it up", image: "images/pinkpantheress/turn-it-up.jpeg" },
        { name: "Tonight", image: "images/pinkpantheress/tonight.jpeg" },
        { name: "Stateside", image: "images/pinkpantheress/stateside.jpeg" },
        { name: "Illegal", image: "images/pinkpantheress/illegal.jpeg" },
        { name: "Close to you", image: "images/pinkpantheress/close-to-you.jpeg" },
  
        // to hell with it
        { name: "Reason", image: "images/pinkpantheress/to-hell-with-it.jpeg" },
        { name: "All my friends know", image: "images/pinkpantheress/to-hell-with-it.jpeg" },
        { name: "Nineteen", image: "images/pinkpantheress/to-hell-with-it.jpeg" },
  
        // Take me home
        { name: "Take me home", image: "images/pinkpantheress/take-me-home.jpeg" },
  
        // Heaven knows
        { name: "Another life", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "True romance", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "The aisle", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Nice to meet you", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Bury me", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Internet baby - interlude", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Ophelia", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Feel complete", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Blue", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Feelings", image: "images/pinkpantheress/heaven-knows.jpeg" },
        { name: "Capable of love", image: "images/pinkpantheress/heaven-knows.jpeg" },
  
        // Fancy That
        { name: "Girl Like Me", image: "images/pinkpantheress/fancy-that.jpeg" },
        { name: "Stars", image: "images/pinkpantheress/fancy-that.jpeg" },
        { name: "Intermission", image: "images/pinkpantheress/fancy-that.jpeg" },
        { name: "Noises", image: "images/pinkpantheress/fancy-that.jpeg" },
        { name: "Nice to Know You", image: "images/pinkpantheress/fancy-that.jpeg" },
        { name: "Romeo", image: "images/pinkpantheress/fancy-that.jpeg" }
      ]
  };
</script>

<script>
  function goBack() {
    window.location.href = "index.html";
  }
  
  const params = new URLSearchParams(window.location.search);
  const artistKey = params.get("artist");
  
  if (!artistKey || !ARTISTS[artistKey]) {
    window.location.href = "index.html";
    throw new Error("Artist not selected");
  }
  
  const artist = ARTISTS[artistKey];
  const songs = artist.songs.map(song => ({ ...song }));
  
  document.title = artist.title;
  
  const logo = document.getElementById("titleLogo");
  logo.src = artist.logo;
  logo.alt = artist.title;
  
  /* Shuffle songs */
  songs.sort(() => Math.random() - 0.5);
  
  /* --- Helper: estimate exact comparisons for merge-sort style merging --- */
  function estimateTotalComparisons(n) {
    if (n <= 1) return 0;
    const mid = Math.floor(n / 2);
    return (
      estimateTotalComparisons(mid) +
      estimateTotalComparisons(n - mid) +
      (n - 1) // merging two parts of total length n requires at most n-1 comparisons
    );
  }
  
  /* --- Sorter state --- */
  let lists = songs.map(s => [s]);
  let currentMergeQueue = [];
  let currentMerge = null;
  let head1 = 0, head2 = 0;
  let rec = [];
  
  /* battle counter shown in UI is comparisonsDone + 1 */
  let comparisonsDone = 0;
  const totalComparisons = estimateTotalComparisons(songs.length);
  
  /* --- Progress update --- */
  function updateProgress() {
    const bar = document.getElementById("progressBar");
    const percentText = document.getElementById("progressPercent");
    if (!bar || !percentText) return;
    // handle edge case when totalComparisons is 0
    const pct = totalComparisons === 0 ? 100 : Math.floor((comparisonsDone / totalComparisons) * 100);
    bar.style.width = Math.min(100, pct) + "%";
    percentText.textContent = Math.min(100, pct) + "%";
  }
  
  /* --- Show current pair (images + names) --- */
  function showImage() {
    if (!currentMerge) return;
    // battle number: show next comparison index (1-based)
    document.getElementById("battleNumber").textContent = `Battle ${comparisonsDone + 1}`;
    document.getElementById("leftImg").src = currentMerge.left[head1].image;
    document.getElementById("leftName").textContent = currentMerge.left[head1].name;
    document.getElementById("rightImg").src = currentMerge.right[head2].image;
    document.getElementById("rightName").textContent = currentMerge.right[head2].name;
  }
  
  /* --- When a user chooses left or right --- */
  function choose(side) {
    if (!currentMerge) return;
  
    // record the chosen item (this is a user-driven comparison)
    rec.push(side === "left" ? currentMerge.left[head1++] : currentMerge.right[head2++]);
  
    // update comparison counters
    comparisonsDone++;
    updateProgress();
  
    // if the other side is already exhausted, push the remainder (no extra comparisons)
    while (head1 < currentMerge.left.length && head2 === currentMerge.right.length) {
      rec.push(currentMerge.left[head1++]);
    }
    while (head2 < currentMerge.right.length && head1 === currentMerge.left.length) {
      rec.push(currentMerge.right[head2++]);
    }
  
    // if both heads reached ends, finalize merged array
    if (head1 === currentMerge.left.length && head2 === currentMerge.right.length) {
      currentMerge.merged.push(...rec);
      rec = [];
      prepareNextMerge();
    } else {
      // there are still items to compare in this merge
      showImage();
    }
  
    // stop listening for keys when finished
    if (comparisonsDone >= totalComparisons) {
      document.removeEventListener("keydown", keyListener);
    }
  }
  
  /* --- Move to next merge or round --- */
  function prepareNextMerge() {
    if (currentMergeQueue.length > 0) {
      currentMerge = currentMergeQueue.shift();
      head1 = 0;
      head2 = 0;
      showImage();
    } else {
      prepareNextRound();
    }
  }
  
  /* --- Build next round's merge queue from lists --- */
  function prepareNextRound() {
    let newLists = [];
    currentMergeQueue = [];
  
    while (lists.length > 0) {
      const left = lists.shift();
      const right = lists.shift();
      const merged = [];
      if (right) {
        currentMergeQueue.push({ left, right, merged });
        newLists.push(merged);
      } else {
        newLists.push(left);
      }
    }
  
    lists = newLists;
  
    if (currentMergeQueue.length > 0) {
      currentMerge = currentMergeQueue.shift();
      head1 = 0; head2 = 0; rec = [];
      // if currentMerge.left or right are empty (shouldn't happen), guard:
      if (currentMerge.left.length === 0 && currentMerge.right.length === 0) {
        prepareNextMerge();
      } else {
        showImage();
      }
    } else {
      showResult();
    }
  }
  
  /* --- Show final ranking --- */
  function showResult() {
    document.getElementById("choices").style.display = "none";
    const resultDiv = document.getElementById("result");
    resultDiv.style.display = "block";
  
    const rankingList = document.getElementById("ranking");
    rankingList.innerHTML = ""; // clear previous results
  
    (lists[0] || []).forEach((song, index) => {
      const li = document.createElement("li");
      li.classList.add("result-item");
  
      // number text
      const numberSpan = document.createElement("span");
      numberSpan.textContent = `${index + 1}.`;
  
      // image
      const img = document.createElement("img");
      img.src = song.image;
      img.alt = song.name;
      img.classList.add("result-image");
  
      // song name
      const text = document.createElement("span");
      text.textContent = song.name;
  
      li.appendChild(numberSpan);
      li.appendChild(img);
      li.appendChild(text);
      rankingList.appendChild(li);
    });
  
    comparisonsDone = totalComparisons;
    updateProgress();
  }
  
  /* --- Keyboard listener --- */
  function keyListener(e) {
    if (comparisonsDone >= totalComparisons) return;
    if (e.key === "ArrowLeft") choose("left");
    if (e.key === "ArrowRight") choose("right");
  }
  document.addEventListener("keydown", keyListener);
  
  /* --- Initialize & start --- */
  lists = songs.map(s => [s]); // re-init lists (safe)
  prepareNextRound();
  updateProgress();
</script>

</html>
